'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _match = require('./match');

var _match2 = _interopRequireDefault(_match);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var tweenGenerator = regeneratorRuntime.mark(function tweenGenerator(_ref) {
  var _this = this;

  var duration = _ref.duration;
  var easing = _ref.easing;
  var from = _ref.from;
  var to = _ref.to;

  var start, _loop;

  return regeneratorRuntime.wrap(function tweenGenerator$(_context2) {
    while (1) {
      switch (_context2.prev = _context2.next) {
        case 0:
          start = Date.now();
          _loop = regeneratorRuntime.mark(function _loop() {
            var time;
            return regeneratorRuntime.wrap(function _loop$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    time = Date.now() - start;
                    _context.next = 3;
                    return (0, _match2.default)(from, to, function (a, b) {
                      return easing.call(null, time, a, b, duration);
                    });

                  case 3:
                  case 'end':
                    return _context.stop();
                }
              }
            }, _loop, _this);
          });

        case 2:
          if (!(Date.now() - start < duration)) {
            _context2.next = 6;
            break;
          }

          return _context2.delegateYield(_loop(), 't0', 4);

        case 4:
          _context2.next = 2;
          break;

        case 6:
        case 'end':
          return _context2.stop();
      }
    }
  }, tweenGenerator, this);
});

exports.default = tweenGenerator;